--// Services
local Players = game:GetService("Players")
local player = Players.LocalPlayer

--// Rainbow Stroke Function
local function RainbowStroke(stroke)
    task.spawn(function()
        local hue = 0
        while stroke.Parent and stroke.Enabled do
            hue = (hue + 1) % 360
            stroke.Color = Color3.fromHSV(hue/360,1,1)
            task.wait(0.03)
        end
    end)
end

--// ScreenGui
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "XG4_UI"

--// Main Frame (Bigger)
local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0,600,0,350) -- أكبر
MainFrame.Position = UDim2.new(0.5,-300,0.5,-175)
MainFrame.BackgroundColor3 = Color3.fromRGB(20,20,20)
MainFrame.BackgroundTransparency = 0.4
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame)

local MainStroke = Instance.new("UIStroke", MainFrame)
MainStroke.Thickness = 2
RainbowStroke(MainStroke)

--// Title Center
local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1,0,0,40)
Title.BackgroundTransparency = 1
Title.Text = ""
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.TextColor3 = Color3.fromRGB(255,255,255)

--// Left Top Texts
local LeftText1 = Instance.new("TextLabel", MainFrame)
LeftText1.Size = UDim2.new(0,400,0,25)
LeftText1.Position = UDim2.new(0,10,0,10)
LeftText1.BackgroundTransparency = 1
LeftText1.Text = "XG4 | 99 NIGHTS IN THE FOREST"
LeftText1.Font = Enum.Font.GothamBold
LeftText1.TextSize = 18
LeftText1.TextXAlignment = Enum.TextXAlignment.Left
LeftText1.TextColor3 = Color3.fromRGB(255,255,255)

local LeftText2 = Instance.new("TextLabel", MainFrame)
LeftText2.Size = UDim2.new(0,300,0,20)
LeftText2.Position = UDim2.new(0,10,0,35)
LeftText2.BackgroundTransparency = 1
LeftText2.Text = "by: XG4 HUB 999"
LeftText2.Font = Enum.Font.Gotham
LeftText2.TextSize = 14
LeftText2.TextXAlignment = Enum.TextXAlignment.Left
LeftText2.TextColor3 = Color3.fromRGB(200,200,200)

--// Buttons X / -
local CloseBtn = Instance.new("TextButton", MainFrame)
CloseBtn.Size = UDim2.new(0,40,0,40)
CloseBtn.Position = UDim2.new(1,-80,0,0)
CloseBtn.Text = "X"
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.TextSize = 20
CloseBtn.TextColor3 = Color3.fromRGB(255,255,255)
CloseBtn.BackgroundTransparency = 1

local MinBtn = Instance.new("TextButton", MainFrame)
MinBtn.Size = UDim2.new(0,40,0,40)
MinBtn.Position = UDim2.new(1,-40,0,0)
MinBtn.Text = "-"
MinBtn.Font = Enum.Font.GothamBold
MinBtn.TextSize = 28
MinBtn.TextColor3 = Color3.fromRGB(255,255,255)
MinBtn.BackgroundTransparency = 1

--// Open Button after minimize
local OpenBtn = Instance.new("TextButton", ScreenGui)
OpenBtn.Size = UDim2.new(0,180,0,50)
OpenBtn.Position = UDim2.new(0.5,-90,0.9,0)
OpenBtn.Text = "XG4 HUB"
OpenBtn.Font = Enum.Font.GothamBold
OpenBtn.TextSize = 20
OpenBtn.TextColor3 = Color3.fromRGB(255,255,255)
OpenBtn.BackgroundColor3 = Color3.fromRGB(25,25,25)
OpenBtn.Visible = false
OpenBtn.Active = true
OpenBtn.Draggable = true
Instance.new("UICorner", OpenBtn)

local OpenStroke = Instance.new("UIStroke", OpenBtn)
OpenStroke.Thickness = 2
RainbowStroke(OpenStroke)

--// Buttons Logic
CloseBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    OpenBtn.Visible = false
end)

MinBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = false
    OpenBtn.Visible = true
end)

OpenBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = true
    OpenBtn.Visible = false
end)
